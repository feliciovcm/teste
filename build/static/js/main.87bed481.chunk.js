(this["webpackJsonpteste-frontend"]=this["webpackJsonpteste-frontend"]||[]).push([[0],{200:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(71),c=a.n(s),o=a(3),r=a(11),l=a(4),b=a(1);function d(){return Object(b.jsxs)("div",{className:"messageContainer",children:[Object(b.jsx)("img",{src:"images/smiling.svg",alt:"emoji"}),Object(b.jsx)("div",{className:"bubble bubble-bottom-left",children:"Ol\xe1, eu sou Chatnilson, tudo bem? Para come\xe7armos, preciso saber seu nome."})]})}function m(e){return Object(b.jsxs)("div",{className:"messageContainer",children:[Object(b.jsx)("img",{src:"images/happy.svg",alt:"emoji"}),Object(b.jsxs)("div",{className:"bubble bubble-bottom-left",children:["Que satisfa\xe7\xe3o, ",e.personName,". Agora que sei seu nome, qual a cidade e estado que voc\xea mora?"]})]})}function u(){return Object(b.jsxs)("div",{className:"messageContainer",children:[Object(b.jsx)("img",{src:"images/grinning.svg",alt:"emoji"}),Object(b.jsx)("div",{className:"bubble bubble-bottom-left",children:"Legal, agora que sabemos sua cidade e estado, quando foi que voc\xea nasceu?"})]})}function j(){return Object(b.jsxs)("div",{className:"messageContainer",children:[Object(b.jsx)("img",{src:"images/happier.svg",alt:"emoji"}),Object(b.jsx)("div",{className:"bubble bubble-bottom-left",children:"Agora me fala teu email, por gentileza."})]})}function f(){return Object(b.jsxs)("div",{className:"messageContainer",children:[Object(b.jsx)("img",{src:"images/party.svg",alt:"emoji"}),Object(b.jsx)("div",{className:"bubble bubble-bottom-left",children:"Voc\xea finalizou. Fa\xe7a uma valia\xe7\xe3o:"})]})}var v=a(19),p=a.n(v);var g=p.a.get("https://servicodados.ibge.gov.br/api/v1/localidades/estados");function O(e){var t=e.fill,a=void 0===t?"none":t;return Object(b.jsx)("svg",{className:"star",xmlns:"http://www.w3.org/2000/svg",height:"511pt",viewBox:"0 -10 511.98685 511",width:"511pt",children:Object(b.jsx)("path",{d:"m510.652344 185.902344c-3.351563-10.367188-12.546875-17.730469-23.425782-18.710938l-147.773437-13.417968-58.433594-136.769532c-4.308593-10.023437-14.121093-16.511718-25.023437-16.511718s-20.714844 6.488281-25.023438 16.535156l-58.433594 136.746094-147.796874 13.417968c-10.859376 1.003906-20.03125 8.34375-23.402344 18.710938-3.371094 10.367187-.257813 21.738281 7.957031 28.90625l111.699219 97.960937-32.9375 145.089844c-2.410156 10.667969 1.730468 21.695313 10.582031 28.09375 4.757813 3.4375 10.324219 5.1875 15.9375 5.1875 4.839844 0 9.640625-1.304687 13.949219-3.882813l127.46875-76.183593 127.421875 76.183593c9.324219 5.609376 21.078125 5.097657 29.910156-1.304687 8.855469-6.417969 12.992187-17.449219 10.582031-28.09375l-32.9375-145.089844 111.699219-97.941406c8.214844-7.1875 11.351563-18.539063 7.980469-28.925781zm0 0",fill:a})})}function h(e){var t=e.index,a=e.rating,n=e.hoverRating,s=e.onMouseEnter,c=e.onMouseLeave,o=e.onSaveRating,r=i.a.useMemo((function(){return n>=t||!n&&a>=t?"yellow":"lightgrey"}),[a,n,t]);return Object(b.jsx)("div",{className:"cursor-pointer",onMouseEnter:function(){return s(t)},onMouseLeave:function(){return c()},onClick:function(){return o(t)},children:Object(b.jsx)(O,{fill:r})})}function x(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(!1),c=Object(o.a)(s,2),v=c[0],O=c[1],x=Object(n.useState)(!1),N=Object(o.a)(x,2),y=N[0],C=N[1],E=Object(n.useState)(!1),k=Object(o.a)(E,2),w=k[0],S=k[1];function D(){i(!0)}function q(){O(!0)}function M(){C(!0)}function B(){S(!0)}Object(n.useEffect)((function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();t<10&&(t="0"+t),a<10&&(a="0"+a),e=n+"-"+a+"-"+t,document.getElementById("datefield").setAttribute("max",e)})),Object(n.useEffect)((function(){document.addEventListener("keydown",(function(e){"Enter"===e.key&&"Nome e sobrenome"===e.target.placeholder&&e.target.value.length>=8&&!a?D():"Enter"===e.key&&"city"===e.target.name&&e.target.value.length>=3?q():"Enter"===e.key&&"INPUT"===e.target.nodeName&&"date"===e.target.type&&e.target.value?M():"Enter"===e.key&&"INPUT"===e.target.nodeName&&"email"===e.target.type&&e.target.value&&B()}))}),[a,w,y,v]);var F=[{id:1},{id:2},{id:3},{id:4},{id:5}],I=Object(n.useState)(0),L=Object(o.a)(I,2),P=L[0],R=L[1],A=Object(n.useState)(0),z=Object(o.a)(A,2),T=z[0],U=z[1],J=function(e){U(e)},V=function(){U(0)},H=function(e){R(e)},Q=Object(n.useState)([]),Y=Object(o.a)(Q,2),G=Y[0],K=Y[1];function W(e){return Object(b.jsx)("option",{value:e.sigla,children:e.sigla},e.id)}Object(n.useEffect)((function(){g.then((function(e){K(e.data),console.log(e.data[0].sigla)}))}));var X=Object(n.useState)([]),Z=Object(o.a)(X,2),$=Z[0],_=Z[1];function ee(e){return Object(b.jsx)("option",{value:e.nome,children:e.nome},e.id)}Object(n.useEffect)((function(){var e=document.getElementById("uf"),t=document.getElementById("city");e.value&&e.addEventListener("change",(function(){var a=G.filter((function(t){return t.sigla===e.value}));p.a.get("https://servicodados.ibge.gov.br/api/v1/localidades/estados/".concat(a[0].id,"/municipios")).then((function(e){t.removeAttribute("disabled"),_(e.data)}))}))}),[G]);var te=r.c().shape({name:r.d().min(8,"Deve ter no m\xednimo 8 caracteres").required("Nome do usuario \xe9 necess\xe1rio"),uf:r.d().required("Necess\xe1rio"),city:r.d().required("Necess\xe1rio"),bornDate:r.a().required("Necess\xe1rio"),email:r.d().email("Email inv\xe1lido").required("Necess\xe1rio"),rating:r.b().min(1,"Por favor, deixe uma avalia\xe7\xe3o!").required("Necess\xe1rio")});return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("header",{children:Object(b.jsx)("img",{src:"https://workalove.com/wp-content/uploads/2021/02/capa-workalove-ok.webp",alt:"workalove"})}),Object(b.jsx)("section",{children:Object(b.jsx)(l.d,{initialValues:{name:"",uf:"",city:"",bornDate:"",email:"",rating:0},validationSchema:te,onSubmit:function(e,t){var a=t.setSubmitting;a(!0),function(e){p.a.post("https://60415a34f34cf600173c9cf5.mockapi.io/api/vitorfelicio/users",e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e),alert("Ops, ocorrou algum problema, tente novamente!")})).then((function(){document.getElementById("root").innerHTML="<header><img src='https://workalove.com/wp-content/uploads/2021/02/capa-workalove-ok.webp' alt='workalove' /></header><div className='afterPost'><h1> Muito obrigado pela sua participa\xe7\xe3o <img src='images/smiling.svg' alt='emoji' /></h1></div>"}))}(e),a(!1)},children:function(e){var t=e.values,n=e.isSubmitting,i=e.errors,s=e.touched;return Object(b.jsxs)(l.c,{children:[Object(b.jsx)(d,{}),Object(b.jsx)("div",{className:"inputContainer",children:Object(b.jsxs)("div",{className:"bubble bubble-bottom-right",children:[Object(b.jsx)(l.b,{"data-testid":"form-fieldName",placeholder:"Nome e sobrenome",type:"input",name:"name",className:"inputComponent ".concat(i.name&&s.name&&"errorField")}),Object(b.jsx)("button",{"data-testid":"form-btnName",type:"button",onClick:!i.name&&t.name?D:null,children:Object(b.jsx)("i",{className:"fas fa-play fa-2x"})}),Object(b.jsxs)("div",{className:"error",children:[" ",Object(b.jsx)(l.a,{name:"name"})]})]})}),Object(b.jsxs)("div",{className:"stepContainer","data-testid":"form-nextStepCity",style:a?{opacity:1}:null,children:[Object(b.jsx)(m,{personName:t.name}),Object(b.jsx)("div",{className:"inputContainer",children:Object(b.jsxs)("div",{className:"bubble bubble-bottom-right",children:[Object(b.jsx)(l.b,{"data-testid":"form-fieldUf",id:"uf",as:"select",name:"uf",className:"inputComponent ".concat(i.uf&&s.uf&&"errorField"),children:G.map(W)}),Object(b.jsx)(l.b,{"data-testid":"form-fieldCity",disabled:!0,id:"city",as:"select",name:"city",className:"inputComponent ".concat(i.city&&s.city&&"errorField"),children:$.map(ee)}),Object(b.jsx)("button",{"data-testid":"form-btnCity",type:"button",onClick:!i.uf&&t.uf?q:null,children:Object(b.jsx)("i",{className:"fas fa-play fa-2x"})}),Object(b.jsxs)("div",{className:"error",children:[" ",Object(b.jsx)(l.a,{name:"uf"})]})]})})]}),Object(b.jsxs)("div",{className:"stepContainer","data-testid":"form-nextStepBorn",style:v?{opacity:1}:null,children:[Object(b.jsx)(u,{}),Object(b.jsx)("div",{className:"inputContainer",children:Object(b.jsxs)("div",{className:"bubble bubble-bottom-right",children:[Object(b.jsx)(l.b,{id:"datefield",max:"2000-13-13","data-testid":"form-fieldDate",placeholder:"00/00/0000",type:"date",name:"bornDate",className:"inputComponent ".concat(i.bornDate&&s.bornDate&&"errorField")}),Object(b.jsx)("button",{"data-testid":"form-btnDate",type:"button",onClick:!i.bornDate&&t.bornDate?M:null,children:Object(b.jsx)("i",{className:"fas fa-play fa-2x"})}),Object(b.jsxs)("div",{className:"error",children:[" ",Object(b.jsx)(l.a,{name:"bornDate"})]})]})})]}),Object(b.jsxs)("div",{className:"stepContainer","data-testid":"form-nextStepEmail",style:y?{opacity:1}:null,children:[Object(b.jsx)(j,{}),Object(b.jsx)("div",{className:"inputContainer",children:Object(b.jsxs)("div",{className:"bubble bubble-bottom-right",children:[Object(b.jsx)(l.b,{"data-testid":"form-fieldEmail",placeholder:"email",type:"email",name:"email",className:"inputComponent ".concat(i.email&&s.email&&"errorField")}),Object(b.jsx)("button",{"data-testid":"form-btnEmail",type:"button",onClick:!i.email&&t.email?B:null,children:Object(b.jsx)("i",{className:"fas fa-play fa-2x"})}),Object(b.jsxs)("div",{className:"error",children:[" ",Object(b.jsx)(l.a,{name:"email"})]})]})})]}),Object(b.jsxs)("div",{className:"stepContainer","data-testid":"form-nextStepRating",style:w?{opacity:1}:null,children:[Object(b.jsx)(f,{}),Object(b.jsxs)("div",{className:"inputContainer",children:[Object(b.jsxs)("div",{className:"bubble bubble-bottom-right",children:[F.map((function(e){return Object(b.jsx)(h,{index:e.id,rating:P,hoverRating:T,onMouseEnter:J,onMouseLeave:V,onSaveRating:H},e.id)})),Object(b.jsxs)("div",{className:"error",children:[" ",Object(b.jsx)(l.a,{name:"rating"})]})]}),Object(b.jsx)(l.b,{type:"input",name:"rating",value:t.rating=P,style:{display:"none"}})]}),w&&Object(b.jsx)("button",{disabled:n,type:"submit",children:"Salvar"})]})]})}})})]})}c.a.render(Object(b.jsx)(x,{}),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.87bed481.chunk.js.map